<?php

class RegisterController
{


    public function __construct()
    {
        $this->patientModel = new Patient();
    }
    public function index()
    {

        if (isPostRequest()) {
            $reference = generateRandomString();
            $data = ["reference" => $reference, ...$_POST];

            $isCreated = $this->patientModel->create($data);
            if ($isCreated !== false) {
                return bladeView("register", ["ref" => $reference]);
            }
        } else {
            return bladeView("register");
        }

        bladeView("register");
    }
}

        // ??????????????????????????????????????????????????????????????????????????
